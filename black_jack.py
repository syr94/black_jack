# -*- coding: utf-8 -*-
"""Black_Jack.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1m_ocGz-D0OGN-VIzeUe0pmFmmKpkHm_N
"""

def Krupie(koloda):     #Функция, где у нас берет карты крупье (бот)       
    ochki_K=0           # Обнуление очков крупье
    karta_1 = koloda.pop()  # Так как это блекджек, крупье в начале берет 2 карты
    karta_2 = koloda.pop()
    print ('Крупье взял 2 карты: %d и %d' %(karta_1 ,karta_2)) # Выводим информацию по картам, которые взял крупье
    ochki_K=karta_1+karta_2      # Общие очки на данный момент это сумма двух карт
    print('В сумме у крупье: %d' %ochki_K) # Вывод информации по очкам крупье 
    while (ochki_K<17):      # Ну и по правилам, если крупье не добрал до 17, то он берет еще карту 
        karta_1=koloda.pop() # Тут он берет карту
        print('Крупье добрал: %d' %karta_1) # Вывод инфы
        ochki_K+=karta_1   # Добавляем к значению очков, значение карты
        print('В сумме у крупье: %d' %ochki_K)  # Вывод инфы
    print('Крупье остановился на: %d' %ochki_K)  # Вывод инфы
    return (ochki_K)  # Возвращаем значение набранных крупье очков

def Igrok(koloda):      #Функция, где у нас берет карты наш Игрок (бот)    
  ochki_I=0             # Обнуление очков игрока
  karta_1 = koloda.pop() # Так как это блекджек, Игрок в начале берет 2 карты
  karta_2 = koloda.pop()
  print ('Вы взяли 2 карты: %d и %d' %(karta_1 ,karta_2))  # Выводим информацию по картам, которые взял игрок
  ochki_I=karta_1+karta_2   # Общие очки на данный момент это сумма двух карт
  while True:               # Бесконечный цикл, потому как если хочет, то пускай берет, всё равно у нас карт в колоде 56*6
    choice = input("У вас %d, возьмете еще карту? да/нет \n" %ochki_I)   # Запрашиваем хочет ли взять карту
    if choice =="да":                                    # Если выбор да, то соответсвенно даем ему еще одну карту, выводим инфу по нет и по очкам
      karta_1= koloda.pop()
      print('Вы добрали: %d' %karta_1)
      ochki_I+=karta_1
      print('В сумме у Вас: %d' %ochki_I)
    elif choice == "нет":                        # Ну на нет, как грится и .... Заканчиваем добор игроком и возвращаем значение его очков
      print('Вы остановились на: %d' %ochki_I)
      return (ochki_I)                           
    elif choice == "ограбить казино":          # Пасхалка
      print("Вы ограбили казино, какое-то время вы кутили, но в конце концов большой брат пришел за вами, Гейм Овер;-)")
      break
    else:
      print("Чё???")                   # Если ввел чет непонятное, то культурно спрашиваем что игрок имел ввиду еще раз


def partiya(Player,money):             # Функция генерации партии каждую новую партию
  while True:                          # Бесконечный цикл, пусть хоть  в долг зайдет, нам всё равно
    vibor = input('Начнем игру? да/нет\n') # Запрашиваем хочет ли начать игру 
    if vibor=='да':                        # ПЕРВЫЙ ИФ! если хочет, то пускай играет
      koloda = [2,3,4,5,6,7,8,9,10,10,10,10,10,11] * 4 * 6    # Генерация новой колоды, и перемешивание, каждую новую партию
      R.shuffle(koloda)
      stavka = int(input("Минимальная ставка:100, максимальная ставка:1000, какую сумму желаете поставить? \n")) # Пусть вводит ставку
      if (stavka>=100) and (stavka<=1000): # ВТОРОЙ ИФ! Проверяем устраивает ли ставка условиям
        player_1=Igrok(koloda)                  # Выполняем функцию с игроком, и возвращенное ей значение очков записываем в player_1
        player_2=Krupie(koloda)                 # Выполняем функцию с ботом(крупье), и возвращенное ей значение очков записываем в player_2
        if player_1==player_2 or (player_1>21) and (player_2>21): # ТРЕТИЙ ИФ! проверка кто выиграл по правилам блекджека
          print("Ничья, сэр!")
        elif player_1==21:        # ТРЕЙТИЙ ИФ! 
          money+=2*stavka
          print("Поздравляем, вы выиграли %d , ваш общий банк: %d" %(stavka*2,money))
        elif (player_1>player_2) and (player_1<22):  # ТРЕЙТИЙ ИФ!
          money+=stavka
          print("Поздравляем, вы выиграли %d , ваш общий банк: %d" %(stavka,money))
        elif (player_2>21)and(player_1<21):  # ТРЕЙТИЙ ИФ!
          money+=stavka
          print("Поздравляем, вы выиграли %d , ваш общий банк: %d" %(stavka,money))
        else:                                # ТРЕЙТИЙ ИФ!
          money-=stavka
          print("Вы проиграли %d , ваш общий банк: %d" %(stavka,money))
      else:         # ВТОРОЙ ИФ!
        print("Сэр, пожалуйста будьте внимательны к тому что я вам говорю, внимание еще раз:")
    elif vibor == "нет": #ПЕРВЫЙ ИФ!
      return (money)
    else:              # ПЕРВЫЙ ИФ!
      print ("Чё???")
        
  

# Ниже основной main файл программки
    
import random as R   # Подключаем библиотека рандома
Player_name=input("Рад приветствовать в нашем казино, я программа с вариацией Блек-Джека из Казино, как я могу к вам обращаться?\n") # На входе нас встреччает администратор
money=int(input("Подскажите пожалуйста, %s, сколько денег вы хотите обменять на фишки\n " %Player_name)) # Количество бабок, которые мы готовы отавить в казино, списываются сразу через Apple Pay (шутка)
if money >=100: # Ну и минимальная фшка  в казино естественно 100, так что если не соответствуем данному разряду, то нас пошлют
  print("Хорошо, %s, вы получили фишки номиналом в %d, прошу проследовать к столу "%(Player_name,money))
  print ("Вы прошли к столу")
  print("Здравствуйте, %s, меня зовут Хуанито, я буду сегодня вашим крупье" % Player_name) # Нас проводили к столу
  money = partiya(Player_name,money)                #Ну и  загоняем нашу за стол (функция Партии)
else:
  print("Сорян, нищебродов не пускаем!")
print("Спасибо за игру, %s, у вас фишки номиналом в %d , проследуйте пожалуйста в кассу, и поменяйте их! Будем рады видеть вас снова!"%(Player_name,money))